class Solution {
    public List<List<Integer>> zigzagLevelOrder(TreeNode root) {
        if(root==null)
            return new ArrayList();
        List<List<Integer>> result=new ArrayList();
        Queue<TreeNode> q=new LinkedList();
        q.add(root);
        boolean reverseLevel=false;
        while(!q.isEmpty())
        {
            int size=q.size();
            List<Integer> level=new ArrayList();
            while(size-->0)
            {
                root=q.poll();
                level.add(root.val);
                if(root.left!=null)
                    q.add(root.left);
                if(root.right!=null)
                    q.add(root.right);
            }
            if(reverseLevel)
                Collections.reverse(level);
            result.add(level);
            reverseLevel=!reverseLevel;
        }
        return result;
    }
}
